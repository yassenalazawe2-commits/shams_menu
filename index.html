<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø·Ø¹Ù… THE ANGLE - Ù†Ø¸Ø§Ù… Ø§Ù„ÙƒØ§Ø´ÙŠØ± Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ</title>
    
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #121212; 
            direction: rtl; 
            text-align: right;
            color: #e0e0e0; 
        }

        header {
            background-color: #212121; 
            color: #00e676; 
            padding: 15px;
            text-align: center;
            border-bottom: 2px solid #00e676;
        }
        
        header h1 {
            margin-bottom: 5px;
        }
        
        .container {
            display: flex;
            max-width: 1400px;
            margin: 20px auto;
            background-color: #1e1e1e; 
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            overflow: hidden;
            min-height: 85vh;
        }

        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ØµÙ†Ø§Ù */
        .product-menu {
            flex: 2;
            padding: 20px;
            border-left: 1px solid #333;
        }

        .category {
            margin-bottom: 25px;
            padding: 10px;
            border-bottom: 2px solid #444;
        }

        .item-btn {
            background-color: #333; 
            color: #fff;
            border: 1px solid #444;
            padding: 12px;
            margin: 8px;
            cursor: pointer;
            border-radius: 8px;
            font-size: 15px;
            display: inline-flex; 
            align-items: flex-start; 
            min-width: 160px;
            max-width: 48%;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            position: relative;
        }
        
        .item-btn:hover {
            background-color: #444; 
            border-color: #00e676;
        }

        .product-icon {
            width: 60px; 
            height: 60px;
            margin-left: 15px;
            border-radius: 6px;
            object-fit: cover;
            border: 1px solid #555;
            flex-shrink: 0;
        }
        
        .product-info {
            text-align: right;
            line-height: 1.3;
        }
        
        .product-description {
            font-size: 0.8em;
            color: #b0b0b0; 
            display: block;
            margin-top: 3px;
        }

        /* Ø³Ù„Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª (ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù„ÙŠÙ†Ø§Ø³Ø¨ Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ…) */
        .order-cart {
            flex: 1;
            padding: 25px;
            background-color: #212121; 
        }

        #order-items div {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 30px; /* Ø§Ù„Ø§Ø³Ù… | Ø³Ø¹Ø± Ø§Ù„ÙˆØ­Ø¯Ø© | Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„ÙƒÙ…ÙŠØ© | Ø§Ù„Ø­Ø°Ù */
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px dashed #444;
            color: #bdbdbd;
        }
        
        .item-name-notes {
            flex-grow: 1;
        }
        
        .item-notes {
            display: block;
            font-size: 0.75em;
            color: #ff9800; /* Ù„ÙˆÙ† Ù…Ø®ØªÙ„Ù Ù„Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª */
        }
        
        .item-controls {
            display: flex;
            align-items: center;
            justify-content: space-around;
        }

        .qty-btn {
            background-color: #444;
            border: 1px solid #666;
            color: #fff;
            width: 25px;
            height: 25px;
            border-radius: 4px;
            cursor: pointer;
            line-height: 1;
        }
        
        .delete-item-btn {
            background: none;
            border: none;
            color: #ff5252;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1em;
        }
        
        /* ØªÙ„ÙˆÙŠÙ† Ø³Ø·Ø± Ø§Ù„Ø®ØµÙ… */
        #discount-row {
            color: #ffc107; 
            font-weight: bold;
        }

        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª */
        .action-button {
            width: 100%;
            padding: 14px;
            margin-top: 15px;
            background-color: #00e676; 
            color: #121212;
            border: none;
            cursor: pointer;
            font-size: 18px;
            border-radius: 8px;
            font-weight: bold;
        }
        
        /* Ø²Ø± Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© */
        .note-btn {
            position: absolute;
            top: 5px;
            left: 5px;
            background: none;
            border: none;
            color: #00e676;
            cursor: pointer;
            font-size: 1.2em;
            padding: 2px;
            line-height: 1;
        }
        .note-btn:hover {
            color: #fff;
        }
    </style>
</head>
<body>

    <header>
        <h1>Ù…Ø·Ø¹Ù… THE ANGLE</h1>
        <p>Ù†Ø¸Ø§Ù… Ù†Ù‚Ø§Ø· Ø§Ù„Ø¨ÙŠØ¹ (POS)</p>
    </header>

    <div class="container">
        <div class="product-menu">
            <h2>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ØµÙ†Ø§Ù</h2>
            <div id="meals-list" class="category"><h3>Ø§Ù„ÙˆØ¬Ø¨Ø§Øª</h3></div>
            <div id="salads-list" class="category"><h3>Ø§Ù„Ø³Ù„Ø·Ø§Øª ÙˆØ§Ù„Ù…Ù‚Ø¨Ù„Ø§Øª</h3></div>
            <div id="drinks-list" class="category"><h3>Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª</h3></div>
            <div id="add-ons-list" class="category"><h3>Ø§Ù„Ø¥Ø¶Ø§ÙØ§Øª</h3></div>
        </div>

        <div class="order-cart">
            <h2>Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø­Ø§Ù„ÙŠ</h2>
            <div id="order-items">
                </div>

            <div class="discount-section">
                <h4>ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…</h4>
                <div style="display: flex;">
                    <input type="text" id="discount-code" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…">
                    <button onclick="applyDiscount()">ØªØ·Ø¨ÙŠÙ‚</button>
                </div>
                <div id="discount-message"></div>
            </div>

            <div class="summary">
                <p>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙØ±Ø¹ÙŠ: <span id="subtotal">0.00</span> Ø¯.Ø¹</p>
                <p id="discount-row">Ø§Ù„Ø®ØµÙ…: <span id="discount-amount">0.00</span> Ø¯.Ø¹</p> 
                <h3>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ: <span id="grand-total">0.00</span> Ø¯.Ø¹</h3>
            </div>

            <button onclick="processOrder()" class="action-button">Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ§Ù„Ø¯ÙØ¹</button>
            <button onclick="clearOrder()" class="action-button clear-btn">Ù…Ø³Ø­ Ø§Ù„Ø·Ù„Ø¨</button>
        </div>
    </div>

    <script>
        // 1. ØªØ¹Ø±ÙŠÙ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ù…ÙƒÙˆÙ†Ø§Øª
        const products = {
            meals: [
                { name: "Ø¨Ø±ÙƒØ± Ù„Ø­Ù…", price: 6.00, id: 'M1', image: 'images/burger_beef.jpg', description: "Ø´Ø±ÙŠØ­Ø© Ù„Ø­Ù… ØµØ§ÙÙŠØ©ØŒ Ø®Ø³ØŒ Ø·Ù…Ø§Ø·Ù…ØŒ ØµÙˆØµ Ø®Ø§ØµØŒ ÙˆØ®Ø¨Ø² Ø§Ù„Ø¨Ø±ÙŠÙˆØ´." },
                { name: "Ø¨Ø±ÙƒØ± Ø¯Ø¬Ø§Ø¬", price: 5.50, id: 'M2', image: 'images/burger_chicken.jpg', description: "ØµØ¯Ø± Ø¯Ø¬Ø§Ø¬ Ù…Ù‚Ù„ÙŠØŒ Ø¬Ø¨Ù†Ø© Ø´ÙŠØ¯Ø±ØŒ Ù…Ø®Ù„Ù„ØŒ ÙˆØµÙˆØµ Ø±Ø§Ù†Ø´." },
                { name: "ØªÙƒØ³Ø§Ø³ ÙØ±Ø§ÙŠØ²", price: 5.00, id: 'M4', image: 'images/texas_fries.jpg', description: "Ø¨Ø·Ø§Ø·Ø³ Ù…Ù‚Ù„ÙŠØ©ØŒ Ø¬Ø¨Ù†Ø© Ø°Ø§Ø¦Ø¨Ø©ØŒ Ù„Ø­Ù… Ù…ÙØ±ÙˆÙ… Ø­Ø§Ø±ØŒ ÙˆØµÙ„ØµØ© Ø§Ù„ØªÙƒØ³Ø§Ø³." },
                { name: "Ø¨ÙŠØªØ²Ø§ Ù…Ø§Ø±ØºØ±ÙŠØªØ§", price: 10.00, id: 'M7', image: 'images/pizza.jpg', description: "Ø¹Ø¬ÙŠÙ†Ø© Ø¥ÙŠØ·Ø§Ù„ÙŠØ© Ø±ÙÙŠØ¹Ø©ØŒ ØµÙˆØµ Ø§Ù„Ø·Ù…Ø§Ø·Ù…ØŒ ÙˆØ¬Ø¨Ù†Ø© Ø§Ù„Ù…ÙˆØ²Ø§Ø±ÙŠÙ„Ø§." },
                { name: "ÙˆØ¬Ø¨Ø© ÙƒÙ†ØªØ§ÙƒÙŠ (3 Ù‚Ø·Ø¹)", price: 6.00, id: 'M8', image: 'images/kentucky.jpg', description: "3 Ù‚Ø·Ø¹ Ø¯Ø¬Ø§Ø¬ Ù…Ù‚Ù„ÙŠØ© Ù…Ù‚Ø±Ù…Ø´Ø©ØŒ ØªÙ‚Ø¯Ù… Ù…Ø¹ Ø§Ù„Ø¨Ø·Ø§Ø·Ø³ ÙˆØ§Ù„ØµÙˆØµ." },
                { name: "ÙˆØ¬Ø¨Ø© Ø³ØªØ±Ø¨Ø³ (3 Ù‚Ø·Ø¹)", price: 5.00, id: 'M9', image: 'images/strips.jpg', description: "3 Ù‚Ø·Ø¹ Ø¯Ø¬Ø§Ø¬ Ø³ØªØ±Ø¨Ø³ Ù…Ù‚Ù„ÙŠØ© Ù…Ø¹ ØµÙˆØµ Ø§Ù„Ø¹Ø³Ù„ ÙˆØ§Ù„Ø®Ø±Ø¯Ù„." },
                { name: "Ø£Ø¬Ù†Ø­Ø© Ù…Ø´ÙˆÙŠØ© (5 Ù‚Ø·Ø¹)", price: 4.00, id: 'M10', image: 'images/grilled_wings.jpg', description: "5 Ø£Ø¬Ù†Ø­Ø© Ø¯Ø¬Ø§Ø¬ Ù…ØªØ¨Ù„Ø© ÙˆÙ…Ø´ÙˆÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„ÙØ­Ù… Ø¨ØµÙˆØµ Ø§Ù„Ø¨Ø§Ø±Ø¨ÙŠÙƒÙŠÙˆ." }
            ],
            salads: [
                { name: "Ø³ÙŠØ²Ø± Ø³Ù„Ø§Ø·", price: 4.50, id: 'S1', image: 'images/caesar_salad.jpg', description: "Ø®Ø³ Ø·Ø§Ø²Ø¬ØŒ Ø¬Ø¨Ù† Ø¨Ø§Ø±Ù…ÙŠØ²Ø§Ù†ØŒ Ø®Ø¨Ø² Ù…Ø­Ù…ØµØŒ ÙˆØµÙˆØµ Ø§Ù„Ø³ÙŠØ²Ø±." },
                { name: "Ø­Ù…Øµ", price: 2.50, id: 'S4', image: 'images/hummus.jpg', description: "Ø­Ù…Øµ Ù†Ø§Ø¹Ù… Ù…Ø¹ Ø²ÙŠØª Ø§Ù„Ø²ÙŠØªÙˆÙ† ÙˆØ§Ù„Ø¨Ø§Ø¨Ø±ÙŠÙƒØ§ØŒ ÙŠÙ‚Ø¯Ù… Ù…Ø¹ Ø§Ù„Ø®Ø¨Ø²." }
            ],
            drinks: [
                { name: "ÙƒÙˆÙ„Ø§", price: 0.50, id: 'D1', image: 'images/cola.jpg', description: "Ù…Ø´Ø±ÙˆØ¨ ØºØ§Ø²ÙŠ Ù…Ù†Ø¹Ø´." }
            ],
            addOns: [
                { name: "ØµÙ„ØµØ© Ø«ÙˆÙ…ÙŠØ©", price: 0.50, id: 'A1', image: 'images/garlic_sauce.jpg', description: "ØµÙ„ØµØ© ÙƒØ±ÙŠÙ…Ø© Ø¨Ø§Ù„Ø«ÙˆÙ…." },
                { name: "Ø¨Ø§Ø±Ø¨ÙƒÙŠÙˆ", price: 0.50, id: 'A2', image: 'images/bbq_sauce.jpg', description: "ØµÙ„ØµØ© Ù…Ø¯Ø®Ù†Ø©." },
                { name: "Ø¨Ø·Ø§Ø·Ø³ Ø¹Ø§Ø¯ÙŠØ© (ØµØºÙŠØ±)", price: 2.00, id: 'A3', image: 'images/fries_small.jpg', description: "Ø¨Ø·Ø§Ø·Ø³ Ù…Ù‚Ù„ÙŠØ© ØµØºÙŠØ±Ø© Ø§Ù„Ø­Ø¬Ù…." },
                { name: "Ø¨Ø·Ø§Ø·Ø³ Ø¹Ø§Ø¯ÙŠØ© (ÙƒØ¨ÙŠØ±)", price: 3.00, id: 'A4', image: 'images/fries_large.jpg', description: "Ø¨Ø·Ø§Ø·Ø³ Ù…Ù‚Ù„ÙŠØ© ÙƒØ¨ÙŠØ±Ø© Ø§Ù„Ø­Ø¬Ù…." }
            ]
        };

        let currentOrder = []; 
        let discountApplied = 0.00;
        const VALID_DISCOUNT_CODE = "ANGLE10"; 

        function renderProducts() {
            const containers = {
                'meals-list': products.meals,
                'salads-list': products.salads,
                'drinks-list': products.drinks,
                'add-ons-list': products.addOns
            };

            for (const containerId in containers) {
                const container = document.getElementById(containerId);
                container.innerHTML = '';
                containers[containerId].forEach(item => {
                    container.appendChild(createProductButton(item, containerId.split('-')[0]));
                });
            }
        }

        function createProductButton(product, type) {
            const button = document.createElement('button');
            button.className = 'item-btn';
            
            const imgHtml = product.image 
                ? `<img src="${product.image}" alt="${product.name}" class="product-icon" onerror="this.src=''; this.style.display='none';">` 
                : ''; 

            button.innerHTML = `
                ${imgHtml}
                <div class="product-info">
                    <span class="product-name">${product.name}</span>
                    <span class="product-price">${product.price.toFixed(2)} Ø¯.Ø¹</span>
                    <span class="product-description">${product.description || ''}</span>
                </div>
                <button class="note-btn" title="Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø§Ø­Ø¸Ø© Ù„Ù„Ø·Ù„Ø¨" onclick="event.stopPropagation(); addNoteToItem('${product.id}')">ğŸ“</button>
            `;
            button.onclick = () => addItemToOrder(product, type);
            return button;
        }

        function addItemToOrder(item, type) {
            // ÙŠØªÙ… ØªØ¹ÙŠÙŠÙ† ID ÙØ±ÙŠØ¯ Ù„ÙƒÙ„ ØµÙ†Ù Ù…Ø¶Ø§Ù Ù„ØªÙ…ÙŠÙŠØ² Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
            const uniqueId = item.id + '_' + Date.now(); 
            currentOrder.push({
                uniqueId: uniqueId,
                id: item.id,
                name: item.name,
                price: item.price,
                quantity: 1,
                type: type,
                notes: '' // Ø­Ù‚Ù„ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
            });
            updateOrderCart();
        }
        
        // Ø¯Ø§Ù„Ø© Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
        function addNoteToItem(productId) {
            // ÙŠØªÙ… Ø¥ÙŠØ¬Ø§Ø¯ Ø£Ø­Ø¯Ø« ØµÙ†Ù Ù…Ø¶Ø§Ù Ù…Ù† Ù‡Ø°Ø§ Ø§Ù„Ù†ÙˆØ¹ Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ø¥Ù„ÙŠÙ‡
            const itemIndex = currentOrder.map(item => item.id).lastIndexOf(productId);

            if (itemIndex > -1) {
                const existingNote = currentOrder[itemIndex].notes;
                const note = prompt(`Ø£Ø¯Ø®Ù„ Ù…Ù„Ø§Ø­Ø¸Ø© Ù„Ù€ ${currentOrder[itemIndex].name} (Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©: ${existingNote || 'Ù„Ø§ ØªÙˆØ¬Ø¯'}):`);
                
                if (note !== null) {
                    currentOrder[itemIndex].notes = note.trim();
                    updateOrderCart();
                }
            } else {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙ†Ù Ø¥Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨ Ø£ÙˆÙ„Ø§Ù‹.');
            }
        }

        function updateItemQuantity(uniqueId, action) {
            const itemIndex = currentOrder.findIndex(item => item.uniqueId === uniqueId);
            if (itemIndex > -1) {
                if (action === 'increase') {
                    currentOrder[itemIndex].quantity++;
                } else if (action === 'decrease') {
                    currentOrder[itemIndex].quantity--;
                    if (currentOrder[itemIndex].quantity <= 0) {
                        currentOrder.splice(itemIndex, 1); 
                    }
                } else if (action === 'delete') {
                    currentOrder.splice(itemIndex, 1); 
                }
            }
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø®ØµÙ… ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø­Ø³Ø§Ø¨
            discountApplied = 0.00;
            document.getElementById('discount-code').value = '';
            document.getElementById('discount-message').textContent = '';
            updateOrderCart();
        }

        function calculateSubtotal() {
            let subtotal = 0;
            currentOrder.forEach(item => {
                subtotal += item.price * item.quantity;
            });
            return subtotal;
        }

        function updateOrderCart() {
            const orderItemsContainer = document.getElementById('order-items');
            orderItemsContainer.innerHTML = ''; 

            const subtotal = calculateSubtotal();
            
            currentOrder.forEach(item => {
                const notesHtml = item.notes ? `<span class="item-notes">(Ù…Ù„Ø§Ø­Ø¸Ø©: ${item.notes})</span>` : '';

                const itemDiv = document.createElement('div');
                itemDiv.innerHTML = `
                    <span class="item-name-notes">${item.name} ${notesHtml}</span>
                    <span>${item.price.toFixed(2)} Ø¯.Ø¹</span> 
                    <div class="item-controls">
                        <button class="qty-btn" onclick="updateItemQuantity('${item.uniqueId}', 'decrease')">-</button>
                        <span>${item.quantity}</span>
                        <button class="qty-btn" onclick="updateItemQuantity('${item.uniqueId}', 'increase')">+</button>
                    </div>
                    <button class="delete-item-btn" onclick="updateItemQuantity('${item.uniqueId}', 'delete')">ğŸ—‘ï¸</button>
                `;
                orderItemsContainer.appendChild(itemDiv);
            });

            const grandTotal = subtotal - discountApplied;
            
            document.getElementById('subtotal').textContent = subtotal.toFixed(2);
            document.getElementById('discount-amount').textContent = discountApplied.toFixed(2);
            document.getElementById('grand-total').textContent = grandTotal.toFixed(2);
        }

        function applyDiscount() {
            const inputCode = document.getElementById('discount-code').value.toUpperCase();
            const subtotal = calculateSubtotal();
            
            if (inputCode === VALID_DISCOUNT_CODE && subtotal > 0) {
                const discountRate = 0.10; 
                discountApplied = subtotal * discountRate;
                document.getElementById('discount-message').textContent = 'âœ… ØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø®ØµÙ… 10%';
            } else if (inputCode === VALID_DISCOUNT_CODE && subtotal === 0) {
                 document.getElementById('discount-message').textContent = 'Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø®ØµÙ… Ø¹Ù„Ù‰ Ø·Ù„Ø¨ ÙØ§Ø±Øº.';
                 discountApplied = 0.00;
            } else {
                discountApplied = 0.00;
                document.getElementById('discount-message').textContent = 'âŒ ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ… ØºÙŠØ± ØµØ­ÙŠØ­ Ø£Ùˆ Ù…Ù†ØªÙ‡ÙŠ.';
            }

            updateOrderCart();
        }
        
        function clearOrder() {
            currentOrder = [];
            discountApplied = 0.00;
            document.getElementById('discount-code').value = '';
            document.getElementById('discount-message').textContent = '';
            updateOrderCart();
            alert('ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø·Ù„Ø¨.');
        }

        function processOrder() {
            if (currentOrder.length === 0) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ø£ØµÙ†Ø§Ù Ø¥Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨ Ø£ÙˆÙ„Ø§Ù‹.');
                return;
            }
            
            // 1. Ø¬Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø²Ø¨ÙˆÙ†
            const customerName = prompt("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø²Ø¨ÙˆÙ†:");
            if (!customerName) return; 

            const phoneNumber = prompt("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:");
            if (!phoneNumber) return;

            const address = prompt("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù†Ø·Ù‚Ø© (Ù„Ù„ØªÙˆØµÙŠÙ„):");
            if (!address) return;

            // 2. ØªØ¬Ù…ÙŠØ¹ Ø§Ù„ÙØ§ØªÙˆØ±Ø©
            const grandTotal = parseFloat(document.getElementById('grand-total').textContent);
            const discount = parseFloat(document.getElementById('discount-amount').textContent);
            
            const receiptItems = currentOrder.map(item => {
                const notes = item.notes ? ` [Ù…Ù„Ø§Ø­Ø¸Ø©: ${item.notes}]` : '';
                return `${item.name} (x${item.quantity})${notes}: ${ (item.price * item.quantity).toFixed(2) } Ø¯.Ø¹`;
            }).join('\n');
            
            const finalReceipt = `
                --- ÙØ§ØªÙˆØ±Ø© Ù…Ø·Ø¹Ù… THE ANGLE ---
                Ø§Ù„Ø§Ø³Ù…: ${customerName}
                Ø§Ù„Ù‡Ø§ØªÙ: ${phoneNumber}
                Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${address}
                -----------------------------
                Ø§Ù„Ø£ØµÙ†Ø§Ù:
                ${receiptItems}
                -----------------------------
                Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙØ±Ø¹ÙŠ: ${ (grandTotal + discount).toFixed(2) } Ø¯.Ø¹
                Ø§Ù„Ø®ØµÙ… Ø§Ù„Ù…Ø·Ø¨Ù‚: ${ discount.toFixed(2) } Ø¯.Ø¹
                -----------------------------
                Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨: ${grandTotal.toFixed(2)} Ø¯.Ø¹
            `;
            
            // 3. Ø¹Ø±Ø¶ Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© ÙˆØ±Ø³Ø§Ù„Ø© Ø§Ù„Ø´ÙƒØ±
            alert(finalReceipt);
            
            alert(`Ø´ÙƒØ±Ø§Ù‹ Ù„Ø§Ø®ØªÙŠØ§Ø±ÙƒÙ… Ù…Ø·Ø¹Ù… THE ANGLE! ${customerName}ØŒ Ø³ÙŠØªÙ… ØªÙˆØµÙŠÙ„ Ø·Ù„Ø¨Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ø¥Ù„Ù‰ ${address}.`);
            
            clearOrder();
        }

        window.onload = renderProducts;
    </script>
</body>
</html>
